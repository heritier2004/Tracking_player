<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Admin Dashboard</title>
	<link rel="stylesheet" href="admin.css" />
	<style>
		/* Minimal in-file styles to ensure layout works if admin.css is missing */
		body{font-family:Segoe UI, Roboto, Arial; margin:20px; background:#f5f7fb}
		.container{max-width:1100px;margin:0 auto}
		header{display:flex;align-items:center;justify-content:space-between}
		h1{font-size:20px;margin:0}
		.grid{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:18px}
		.card{background:#fff;padding:14px;border-radius:8px;box-shadow:0 1px 4px rgba(16,24,40,0.06)}
		.list{max-height:420px;overflow:auto}
		table{width:100%;border-collapse:collapse}
		th,td{padding:8px;text-align:left;border-bottom:1px solid #eee}
		.btn{display:inline-block;padding:8px 12px;border-radius:6px;border:0;cursor:pointer}
		.btn.primary{background:#0b5cff;color:#fff}
		.btn.danger{background:#e03131;color:#fff}
		.small{font-size:13px}
		.muted{color:#666;font-size:13px}
		.form-row{display:flex;gap:8px;margin-bottom:8px}
		input,select,textarea{padding:8px;border:1px solid #ddd;border-radius:6px;width:100%}
	</style>
</head>
<body>
	<div class="container">

	<!-- Login overlay shown when not authenticated -->
	<div id="loginOverlay" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(6,8,15,0.5);z-index:60;">
		<div style="width:360px;background:#fff;padding:18px;border-radius:8px;box-shadow:0 8px 32px rgba(2,6,23,0.36)">
			<h3 style="margin:0 0 8px 0">Admin sign in</h3>
			<div style="display:flex;flex-direction:column;gap:8px">
				<input id="loginEmail" placeholder="Email" />
				<input id="loginPassword" type="password" placeholder="Password" />
				<div style="display:flex;gap:8px;justify-content:flex-end">
					<button id="loginBtn" class="btn primary">Sign in</button>
				</div>
				<div class="muted" style="font-size:13px">Use the admin credentials set in environment variables.</div>
			</div>
		</div>
	</div>
		<header>
			<h1>Admin Dashboard â€” System Owner</h1>
			<div>
				<a href="../index.html" class="btn">Back Home</a>
				<button id="refreshBtn" class="btn">Refresh</button>
				<button id="logoutBtn" class="btn small">Logout</button>
			</div>
		</header>

		<div class="grid">
			<section class="card">
				<h2 class="small">Users</h2>
				<div class="form-row">
					<input id="newUserName" placeholder="Name" />
					<input id="newUserEmail" placeholder="Email" />
					<input id="newUserPassword" type="password" placeholder="Password (optional)" />
					<select id="newUserRole">
						<option value="admin">Admin</option>
						<option value="manager">Manager</option>
						<option value="viewer">Viewer</option>
					</select>
					<button id="addUserBtn" class="btn primary">Add</button>
				</div>

				<div class="list">
					<table id="usersTable">
						<thead>
							<tr><th>Name</th><th>Email</th><th>Role</th><th class="muted">Actions</th></tr>
						</thead>
						<tbody></tbody>
					</table>
				</div>
			</section>

			<aside>
				<div class="card" style="margin-bottom:12px;min-width:320px;">
					<h2 class="small">System Actions</h2>
					<div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
						<button id="debugBtn" class="btn">Run Diagnostics</button>
						<button id="updateBtn" class="btn primary">Check for Updates</button>
						<button id="backupBtn" class="btn">Create Backup</button>
					</div>
				</div>

								<div class="card">
					<h2 class="small">Logs</h2>
					<div id="logs" style="max-height:300px;overflow:auto;font-family:monospace;font-size:12px;color:#222;white-space:pre-wrap"></div>
				</div>
			</aside>
		</div>
	</div>

	<script src="admin.js"></script>
</body>
</html>
